{"version":3,"sources":["webpack://Jcrop/webpack/bootstrap","webpack://Jcrop/./build/js/animate.js","webpack://Jcrop/./build/js/confobj.js","webpack://Jcrop/./build/js/defaults.js","webpack://Jcrop/./build/js/domobj.js","webpack://Jcrop/./build/js/dragger.js","webpack://Jcrop/./build/js/easing.js","webpack://Jcrop/./build/js/handle.js","webpack://Jcrop/./build/js/jcrop.js","webpack://Jcrop/./build/js/keyboard.js","webpack://Jcrop/./build/js/loader.js","webpack://Jcrop/./build/js/rect.js","webpack://Jcrop/./build/js/shade.js","webpack://Jcrop/./build/js/stage/dom.js","webpack://Jcrop/./build/js/stage/image.js","webpack://Jcrop/./build/js/sticker.js","webpack://Jcrop/./build/js/util/extend.js","webpack://Jcrop/./build/js/widget.js"],"names":["Animate","el","from","to","cb","frames","efunc","p","cur","normalize","easing","curFrame","Promise","resolve","reject","step","forEach","key","Math","round","requestAnimationFrame","ConfObj","options","Object","defineProperty","configurable","enumerable","value","writable","initOptions","setOptions","Defaults","keys","_optconf","DomObj","animateEasingFunction","animateFrames","multi","multiMax","multiMin","cropperClass","disabledClass","canDrag","canResize","canSelect","canRemove","multiple","autoFront","active","handles","shade","shadeClass","shadeColor","shadeOpacity","widgetConstructor","x","y","w","h","document","getElementById","appendChild","evname","ev","createEvent","initEvent","cropTarget","dispatchEvent","cl","className","split","filter","i","join","length","hasClass","handler","addEventListener","e","Dragger","startcb","movecb","donecb","ox","oy","start","obj","type","touches","pageX","pageY","preventDefault","stopPropagation","window","move","done","changedTouches","removeEventListener","remove","m","module","exports","def","swing","t","b","c","d","inQuad","outQuad","inOutQuad","inCubic","outCubic","inOutCubic","inQuart","outQuart","inOutQuart","inQuint","outQuint","inOutQuint","inSine","cos","PI","outSine","sin","inOutSine","inExpo","pow","outExpo","inOutExpo","inCirc","sqrt","outCirc","inOutCirc","inElastic","s","a","abs","asin","outElastic","inOutElastic","inBack","undefined","outBack","inOutBack","inBounce","outBounce","inOutBounce","Handle","create","clname","createElement","attach","defaults","tagName","ImageStage","Stage","Widget","Rect","Sticker","load","Shade","Keyboard","widget","shiftKey","nudge","stage","removeWidget","Loader","img","check","complete","naturalWidth","min","x2","y2","max","x1","y1","rect","v","fromPoints","p1","p2","Array","isArray","fromArray","offsetLeft","offsetTop","offsetWidth","offsetHeight","args","apply","sizeOf","getMax","aspect","fromPoint","point","quad","Manager","shades","isActive","adjust","pos","enable","f","floor","l","ceil","r","insert","color","opacity","init","updateShades","setStyle","style","backgroundColor","o","width","height","left","crops","Set","enabled","initStageDrag","limitWidgets","focus","n","shift","size","crop","stick","canCreate","offsetParent","addWidget","aspectRatio","render","emit","z","zIndex","addClass","removeClass","refresh","pop","delete","add","reorderWidgets","disable","attachToStage","appendTo","activate","div","wrapper","parentNode","insertBefore","srcEl","onload","resizeToImage","bind","ord","sw","sh","locked","getCornerPoint","getOppositeCorner","stuck","translateStuckPoint","relx","rely","xx","yy","sp","getMaxRect","getDragQuadrant","res","extend","extended","arguments","argument","prop","prototype","hasOwnProperty","call","createHandles","createMover","attachFocus","ar","then","pe","parentElement","rebound","handle","top","opts","setAttribute"],"mappings":"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","file":"jcrop.dev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./build/js/jcrop.js\");\n","import easing from './easing';\n\n// Animate function uses requestAnimationFrame to sequence events\n// Easing functions adapted from jQuery-ui and Robert Penner's equations\n// el - element to animate\n// from and to - \"rect\" objects representing initial and target coordinates\n// cb - callback receives a \"rect\" object for each update/frame\n// frames - number of frames to animate\n// efunc - name of easing function to use\n// returns a Promise that resolves when the animation is complete\n\nfunction Animate (el,from,to,cb,frames=30,efunc='swing') {\n  // Set the keys to update, in this case it is our Rect's properties\n  // Normalize the initial state as a Rect named \"cur\"\n  const p = ['x','y','w','h'];\n  const cur = from.normalize();\n\n  // Lookup the easing function if it is a string\n  efunc = (typeof efunc === 'string')? easing[efunc] : efunc;\n\n  var curFrame = 0;\n\n  // Return a promise that will resolve when the animation is complete\n  return new Promise((resolve,reject) => {\n    function step () {\n      if (curFrame < frames) {\n        // Update each key for this frame\n        p.forEach(key => {\n          cur[key] = Math.round(efunc(curFrame,from[key],to[key]-from[key],frames));\n        });\n\n        // Send it to the callback function\n        // update the current frame counter\n        // and request the next animation frame\n        cb(cur);\n        curFrame++;\n        requestAnimationFrame(step);\n      } else {\n        // We've reached the end of the animation frames\n        cb(to);\n        resolve();\n      }\n    }\n\n    requestAnimationFrame(step);\n  });\n}\n\nexport default Animate;\n","import extend from './util/extend';\nimport DomObj from './domobj';\nimport Defaults from './defaults';\n\nclass ConfObj extends DomObj {\n\n  constructor (el, options = {}) {\n    super(el);\n    this.options = {};\n    Object.defineProperty(this, '_optconf', {\n      configurable: false,\n      enumerable: false,\n      value: {},\n      writable: true\n    });\n    this.initOptions();\n    this.setOptions(extend({},Defaults,options));\n  }\n\n  setOptions (options) {\n    this.options = extend({},this.options,options);\n\n    Object.keys(options).forEach(key => {\n      if (this._optconf[key]) this._optconf[key](options[key]);\n    });\n\n    return this;\n  }\n\n  initOptions () { }\n\n}\n\nexport default ConfObj;\n","export default {\n  animateEasingFunction: 'swing',\n  animateFrames: 30,\n  multi: false,\n  multiMax: null,\n  multiMin: 1,\n  cropperClass: 'jcrop-widget',\n  disabledClass: 'jcrop-disable',\n  canDrag: true,\n  canResize: true,\n  canSelect: true,\n  canRemove: true,\n  multiple: false,\n  autoFront: true,\n  active: true,\n  handles: ['n','s','e','w','sw','nw','ne','se'],\n  shade: true,\n  shadeClass: 'jcrop-shade',\n  shadeColor: 'black',\n  shadeOpacity: 0.5,\n  widgetConstructor: null,\n  x: 0,\n  y: 0,\n  w: 100,\n  h: 100\n};\n\n","class DomObj {\n\n  constructor (el) {\n    if (typeof el === 'string') el = document.getElementById(el);\n    this.el = el;\n  }\n\n  appendTo (el) {\n    if (typeof el === 'string') el = document.getElementById(el);\n    el.appendChild(this.el);\n    return this;\n  }\n\n  emit (evname) {\n    const ev = document.createEvent('Event');\n    ev.initEvent(evname, true, true);\n    ev.cropTarget = this;\n    this.el.dispatchEvent(ev);\n  }\n\n  removeClass (cl) {\n    this.el.className = this.el.className\n      .split(' ').filter(i => cl !== i).join(' ');\n    return this;\n  }\n\n  hasClass (cl) {\n    return this.el.className.split(' ').filter(i => cl === i).length;\n  }\n\n  addClass (cl) {\n    if (!this.hasClass(cl)) this.el.className += ' ' + cl;\n    return this;\n  }\n\n  listen (evname,handler) {\n    this.el.addEventListener(evname,e => handler(e.cropTarget,e));\n    return this;\n  }\n\n}\n\nexport default DomObj;\n\n","/*\n  Dragger function - sets up dragging callbacks on an element\n*/\n\nconst Dragger = function (el,startcb,movecb,donecb) {\n  var ox, oy;\n  if (typeof el === 'string') el = document.getElementById(el);\n\n  el.addEventListener('mousedown',start);\n  el.addEventListener('touchstart',start);\n\n  function start (e) {\n    const obj = (e.type === 'touchstart')? e.touches[0]: e;\n\n    ox = obj.pageX;\n    oy = obj.pageY;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!startcb(ox,oy,obj)) return;\n\n    if (e.type === 'mousedown') {\n      window.addEventListener('mousemove',move);\n      document.addEventListener('mouseup',done);\n    } else if (e.type === 'touchstart') {\n      document.addEventListener('touchmove',move);\n      document.addEventListener('touchend',done);\n    }\n  }\n\n  function move (e) {\n    const obj = (e.type === 'touchmove')? e.changedTouches[0]: e;\n    e.stopPropagation();\n    movecb(obj.pageX - ox,obj.pageY - oy);\n  }\n\n  function done (e) {\n    const obj = (e.type === 'touchend')? e.changedTouches[0]: e;\n\n    if (obj.pageX && obj.pageY) movecb(obj.pageX - ox,obj.pageY - oy);\n\n    document.removeEventListener('mouseup',done);\n    window.removeEventListener('mousemove',move);\n    document.removeEventListener('touchmove',move);\n    document.removeEventListener('touchend',done);\n\n    donecb();\n  }\n\n  function remove () {\n    el.removeEventListener('mousedown',start);\n    el.removeEventListener('touchstart',start);\n  }\n\n  return { remove };\n};\n\nexport default Dragger;\n","/* ============================================================\n * Easing functions adapted from jQuery easing library\n * Open source under the BSD License.\n *\n * Copyright  2008 George McGinley Smith\n * All rights reserved.\n * ======================================================== */\n/* eslint-disable */\n\nconst m = module.exports = {\n  // t: current time, b: begInnIng value, c: change In value, d: duration\n  def: 'outQuad',\n  swing: function (t, b, c, d) {\n    return m[m.def](t, b, c, d);\n  },\n  inQuad: function (t, b, c, d) {\n    return c*(t/=d)*t + b;\n  },\n  outQuad: function (t, b, c, d) {\n    return -c *(t/=d)*(t-2) + b;\n  },\n  inOutQuad: function (t, b, c, d) {\n    if ((t/=d/2) < 1) return c/2*t*t + b;\n    return -c/2 * ((--t)*(t-2) - 1) + b;\n  },\n  inCubic: function (t, b, c, d) {\n    return c*(t/=d)*t*t + b;\n  },\n  outCubic: function (t, b, c, d) {\n    return c*((t=t/d-1)*t*t + 1) + b;\n  },\n  inOutCubic: function (t, b, c, d) {\n    if ((t/=d/2) < 1) return c/2*t*t*t + b;\n    return c/2*((t-=2)*t*t + 2) + b;\n  },\n  inQuart: function (t, b, c, d) {\n    return c*(t/=d)*t*t*t + b;\n  },\n  outQuart: function (t, b, c, d) {\n    return -c * ((t=t/d-1)*t*t*t - 1) + b;\n  },\n  inOutQuart: function (t, b, c, d) {\n    if ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n    return -c/2 * ((t-=2)*t*t*t - 2) + b;\n  },\n  inQuint: function (t, b, c, d) {\n    return c*(t/=d)*t*t*t*t + b;\n  },\n  outQuint: function (t, b, c, d) {\n    return c*((t=t/d-1)*t*t*t*t + 1) + b;\n  },\n  inOutQuint: function (t, b, c, d) {\n    if ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\n    return c/2*((t-=2)*t*t*t*t + 2) + b;\n  },\n  inSine: function (t, b, c, d) {\n    return -c * Math.cos(t/d * (Math.PI/2)) + c + b;\n  },\n  outSine: function (t, b, c, d) {\n    return c * Math.sin(t/d * (Math.PI/2)) + b;\n  },\n  inOutSine: function (t, b, c, d) {\n    return -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\n  },\n  inExpo: function (t, b, c, d) {\n    return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n  },\n  outExpo: function (t, b, c, d) {\n    return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n  },\n  inOutExpo: function (t, b, c, d) {\n    if (t==0) return b;\n    if (t==d) return b+c;\n    if ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\n    return c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\n  },\n  inCirc: function (t, b, c, d) {\n    return -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\n  },\n  outCirc: function (t, b, c, d) {\n    return c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n  },\n  inOutCirc: function (t, b, c, d) {\n    if ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\n    return c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\n  },\n  inElastic: function (t, b, c, d) {\n    var s=1.70158;var p=0;var a=c;\n    if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n    if (a < Math.abs(c)) { a=c; var s=p/4; }\n    else var s = p/(2*Math.PI) * Math.asin (c/a);\n    return -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n  },\n  outElastic: function (t, b, c, d) {\n    var s=1.70158;var p=0;var a=c;\n    if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n    if (a < Math.abs(c)) { a=c; var s=p/4; }\n    else var s = p/(2*Math.PI) * Math.asin (c/a);\n    return a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n  },\n  inOutElastic: function (t, b, c, d) {\n    var s=1.70158;var p=0;var a=c;\n    if (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\n    if (a < Math.abs(c)) { a=c; var s=p/4; }\n    else var s = p/(2*Math.PI) * Math.asin (c/a);\n    if (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n    return a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\n  },\n  inBack: function (t, b, c, d, s) {\n    if (s == undefined) s = 1.70158;\n    return c*(t/=d)*t*((s+1)*t - s) + b;\n  },\n  outBack: function (t, b, c, d, s) {\n    if (s == undefined) s = 1.70158;\n    return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n  },\n  inOutBack: function (t, b, c, d, s) {\n    if (s == undefined) s = 1.70158; \n    if ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n    return c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n  },\n  inBounce: function (t, b, c, d) {\n    return c - m.outBounce (d-t, 0, c, d) + b;\n  },\n  outBounce: function (t, b, c, d) {\n    if ((t/=d) < (1/2.75)) {\n      return c*(7.5625*t*t) + b;\n    } else if (t < (2/2.75)) {\n      return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n    } else if (t < (2.5/2.75)) {\n      return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n    } else {\n      return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n    }\n  },\n  inOutBounce: function (t, b, c, d) {\n    if (t < d/2) return m.inBounce (t*2, 0, c, d) * .5 + b;\n    return m.outBounce (t*2-d, 0, c, d) * .5 + c*.5 + b;\n  }\n};\n\n/*\n * TERMS OF USE - EASING EQUATIONS\n * Open source under the BSD License. \n * \n * Copyright  2001 Robert Penner All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without modification, \n * are permitted provided that the following conditions are met:\n * \n * Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * Redistributions in binary form must reproduce the above copyright\n * notice, this list of conditions and the following disclaimer in the\n * documentation and/or other materials provided with the distribution.\n * \n * Neither the name of the author nor the names of contributors may be\n * used to endorse or promote products derived from this software\n * without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS\n * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\n * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED \n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF\n * THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. \n */\n","import DomObj from './domobj';\n\nclass Handle extends DomObj {\n}\n\nHandle.create = function (clname) {\n  const el = document.createElement('div');\n  el.className = clname;\n  return new Handle(el);\n};\n\nexport default Handle;\n","import extend from './util/extend';\nimport defaults from './defaults';\nimport Stage from './stage/dom';\nimport ImageStage from './stage/image';\nimport Widget from './widget';\nimport Shade from './shade';\nimport Handle from './handle';\nimport Dragger from './dragger';\nimport Rect from './rect';\nimport Sticker from './sticker';\nimport DomObj from './domobj';\nimport easing from './easing';\nimport load from './loader';\n\nexport function attach (el,options={}) {\n  options = extend({},defaults,options);\n\n  if (typeof el === 'string') el = document.getElementById(el);\n  if (el.tagName === 'IMG') return new ImageStage(el,options);\n\n  return new Stage(el,options);\n}\n\nexport { Stage, defaults, Dragger, Widget, Rect, Handle, Sticker, easing, load, Shade, DomObj };\n\nexport default { Stage, defaults, Dragger, Widget, Rect, Handle, Sticker, easing, load, attach, Shade, DomObj };\n","class Keyboard {\n  constructor (widget) {\n    this.widget = widget;\n    this.attach();\n  }\n\n  attach () {\n    const c = this.widget;\n    c.el.addEventListener('keydown',(e) => {\n      const d = e.shiftKey ? 10 : 1;\n      switch (e.key) {\n        case 'ArrowRight': c.nudge(d); break;\n        case 'ArrowLeft': c.nudge(-d); break;\n        case 'ArrowUp': c.nudge(0,-d); break;\n        case 'ArrowDown': c.nudge(0,d); break;\n\n        case 'Delete':\n        case 'Backspace':\n          c.stage.removeWidget(c);\n          break;\n\n        default: return;\n      }\n      e.preventDefault();\n    });\n  }\n}\n\nKeyboard.attach = function (widget) {\n  return new Keyboard(widget);\n};\n\nexport default Keyboard;\n","// IMAGE LOADING/LOADED FUNCTIONS\n// returns a promise that resolves when image is loaded\n// if it's already loaded, the promise will resolve immediately\nfunction Loader (img) {\n  if (typeof img === 'string') img = document.getElementById(img);\n\n  return new Promise(function (resolve,reject) {\n    if (Loader.check(img)) return resolve(img);\n\n    function handler (e) {\n      img.removeEventListener('load',handler);\n      img.removeEventListener('error',handler);\n      (e.type === 'load')? resolve(img): reject(img);\n    }\n\n    img.addEventListener('load',handler);\n    img.addEventListener('error',handler);\n  });\n}\n\n// static method to check if image is completely loaded\nLoader.check = function (img) {\n  if (!img.complete) return false;\n  if (img.naturalWidth === 0) return false;\n  return true;\n};\n\nexport default Loader;\n","/* Rect class -- describes a rectangle with two points, usually\n   top left and bottom right. It allows the second set of coordinates\n   to be described as either w/h or x2/y2 and allows getting and\n   setting of those values such that the object values will always be\n   consistent with the latest input. It should be noted that it does not\n   attempt to keep these points normalized. That is, you should expect\n   to see the actual w/h properties to sometimes be negative values.\n   To normalize the values, use the normalize method, which will return\n   a new Rect object with normalized values.\n*/\nclass Rect {\n\n  constructor () {\n    this.x = 0;\n    this.y = 0;\n    this.w = 0;\n    this.h = 0;\n  }\n\n  set x1 (v) {\n    this.w = this.x2 - v;\n    this.x = v;\n  }\n\n  set y1 (v) {\n    this.h = this.y2 - v;\n    this.y = v;\n  }\n\n  get x2 () {\n    return this.x + this.w;\n  }\n\n  set x2 (x) {\n    this.w = x - this.x;\n  }\n\n  get y2 () {\n    return this.y + this.h;\n  }\n\n  get aspect () {\n    return this.w/this.h;\n  }\n\n  set y2 (y) {\n    this.h = y - this.y;\n  }\n\n  round () {\n    return Rect.create(\n      Math.round(this.x),\n      Math.round(this.y),\n      Math.round(this.w),\n      Math.round(this.h)\n    );\n  }\n\n  normalize () {\n    const [x1,y1,x2,y2] = [\n      Math.min(this.x,this.x2),\n      Math.min(this.y,this.y2),\n      Math.max(this.x,this.x2),\n      Math.max(this.y,this.y2)\n    ];\n    return Rect.create(x1,y1,x2-x1,y2-y1);\n  }\n\n  rebound (w,h) {\n    const rect = this.normalize();\n    if (rect.x<0) rect.x = 0;\n    if (rect.y<0) rect.y = 0;\n    if (rect.x2>w) rect.x = w-rect.w;\n    if (rect.y2>h) rect.y = h-rect.h;\n    return rect;\n  }\n\n  scale (x,y) {\n    y = y || x;\n    return Rect.create(this.x,this.y,this.w*x,this.h*y);\n  }\n\n  center (w,h) {\n    return Rect.create(\n      (w - this.w)/2,\n      (h - this.h)/2,\n      this.w, this.h\n    );\n  }\n\n  toArray () {\n    return [ this.x, this.y, this.w, this.h ];\n  }\n}\n\nRect.fromPoints = function (p1,p2) {\n  const [x1,y1,x2,y2] = [\n    Math.min(p1[0],p2[0]),\n    Math.min(p1[1],p2[1]),\n    Math.max(p1[0],p2[0]),\n    Math.max(p1[1],p2[1])\n  ];\n  return Rect.create(x1,y1,x2-x1,y2-y1);\n};\n\nRect.create = function (x=0,y=0,w=0,h=0) {\n  const c = new Rect();\n  c.x = x;\n  c.y = y;\n  c.w = w;\n  c.h = h;\n  return c;\n};\n\nRect.from = function (el) {\n  if (Array.isArray(el)) return Rect.fromArray(el);\n  const c = new Rect();\n  c.x = el.offsetLeft;\n  c.y = el.offsetTop;\n  c.w = el.offsetWidth;\n  c.h = el.offsetHeight;\n  return c;\n};\n\nRect.fromArray = function (args) {\n  if (args.length === 4) return Rect.create.apply(this,args);\n  else if (args.length === 2) return Rect.fromPoints(args[0],args[1]);\n  else throw \"fromArray method problem\";\n};\n\nRect.sizeOf = function (el,y) {\n  if (y) return Rect.create(0,0,el,y);\n  const c = new Rect();\n  c.w = el.offsetWidth;\n  c.h = el.offsetHeight;\n  return c;\n};\n\nRect.getMax = function (w,h,aspect) {\n  if ((w/h) > aspect) return [ h*aspect, h ];\n  else return [ w, w/aspect ];\n};\n\nRect.fromPoint = function (point,w,h,quad='br') {\n  const c = new Rect();\n  c.x = point[0];\n  c.y = point[1];\n  switch (quad) {\n    case 'br':\n      c.x2 = c.x + w;\n      c.y2 = c.y + h;\n      break;\n    case 'bl':\n      c.x2 = c.x - w;\n      c.y2 = c.y + h;\n      break;\n    case 'tl':\n      c.x2 = c.x - w;\n      c.y2 = c.y - h;\n      break;\n    case 'tr':\n      c.x2 = c.x + w;\n      c.y2 = c.y - h;\n      break;\n  }\n  return c;\n};\n\nexport default Rect;\n\n","import Rect from './rect';\nimport DomObj from './domobj';\n\nclass Manager {\n  constructor (el) {\n    if (typeof el === 'string') el = document.getElementById(el);\n    this.el = el;\n    this.shades = {};\n  }\n\n  init (options={}) {\n    this.active = (options.shade!==undefined)? options.shade: true;\n\n    this.keys().forEach(\n      key => { this.shades[key] = Shade.create(options,key); }\n    );\n\n    this.el.addEventListener('crop.update',(e) => {\n      if (e.cropTarget.isActive() && e.cropTarget.options.shade) {\n        this.adjust(e.cropTarget.pos);\n      }\n    },false);\n\n    this.enable();\n  }\n\n  adjust (rect) {\n    const f = Rect.from(this.el);\n    const s = this.shades;\n    s.t.h = rect.y;\n    s.b.h = f.h - rect.y2;\n    s.t.w = s.b.w = Math.floor(rect.w);\n    s.l.w = s.t.x = s.b.x = Math.ceil(rect.x);\n    s.r.w = f.w - (Math.ceil(rect.x) + Math.floor(rect.w));\n  }\n\n  keys () {\n    return [ 't', 'l', 'r', 'b' ];\n  }\n\n  enable () {\n    const s = this.shades;\n    this.keys().forEach(key => s[key].insert(this.el));\n  }\n\n  disable () {\n    const s = this.shades;\n    this.keys().forEach(key => s[key].remove());\n  }\n\n  setStyle (color,opacity) {\n    const s = this.shades;\n    this.keys().forEach(key => s[key].color(color).opacity(opacity));\n  }\n\n}\n\nManager.attach = function (i) {\n  const el = i.el;\n  const m = new Manager(el);\n  m.init(i.options);\n  i.shades = m;\n  i._optconf['shade'] = v => i.updateShades();\n  i._optconf['shadeColor'] = v => m.setStyle(v);\n  i._optconf['shadeOpacity'] = v => m.setStyle(null,v);\n  return m;\n};\n\nclass Shade extends DomObj {\n  insert (el) { el.appendChild(this.el); }\n  remove () { this.el.remove(); }\n\n  set w (w) { this.el.style.width = w + 'px'; }\n  set h (h) { this.el.style.height = h + 'px'; }\n  set x (l) { this.el.style.left = l + 'px'; }\n\n  color (c) {\n    if (c) this.el.style.backgroundColor = c;\n    return this;\n  }\n\n  opacity (o) {\n    if (o) this.el.style.opacity = o;\n    return this;\n  }\n}\n\nShade.create = function (o,key) {\n  const el = document.createElement('div');\n  const clname = o.shadeClass || 'jcrop-shade';\n  el.className = `${clname} ${key}`;\n  const obj = new Shade(el);\n  return obj.color(o.shadeColor).opacity(o.shadeOpacity);\n};\n\nShade.Manager = Manager;\n\nexport default Shade;\n","import extend from '../util/extend';\nimport Widget from '../widget';\nimport Shade from '../shade';\nimport Dragger from '../dragger';\nimport ConfObj from '../confobj';\nimport Sticker from '../sticker';\n\nclass Stage extends ConfObj {\n\n  constructor (el,options) {\n    super(el,options);\n    this.crops = new Set();\n    this.active = null;\n    this.enabled = true;\n    this.init();\n  }\n\n  init () {\n    this.initStageDrag();\n    Shade.Manager.attach(this);\n  }\n\n  initOptions () {\n    this._optconf['multi'] = v => { if (!v) this.limitWidgets(); };\n  }\n\n  setEnabled (v=true) {\n    const clname = this.options.disabledClass || 'jcrop-disable';\n    this[v?'removeClass':'addClass'](clname);\n    this.enabled = !!v;\n    return this;\n  }\n\n  focus () {\n    if (!this.enabled) return false;\n    if (this.active) this.active.el.focus();\n    else this.el.focus();\n    return this;\n  }\n\n  limitWidgets (n=1) {\n    if (!this.crops || (n<1)) return false;\n    const crops = Array.from(this.crops);\n    while (crops.length > n) this.removeWidget(crops.shift());\n    return this;\n  }\n\n  canCreate () {\n    const n = this.crops.size;\n    const o = this.options;\n    if (!this.enabled) return false;\n    if ((o.multiMax!==null) && (n >= o.multiMax)) return false;\n    if (!o.multi && (n >= o.multiMin)) return false;\n    return true;\n  }\n\n  canRemove () {\n    const n = this.crops.size;\n    const o = this.options;\n    if (!this.enabled) return false;\n    if (this.active && !this.active.options.canRemove) return false;\n    if (!o.canRemove || (n <= o.multiMin)) return false;\n    return true;\n  }\n\n  initStageDrag () {\n    var crop, pos, w, h, stick;\n    Dragger(this.el,\n      (x,y,e) => {\n        if (!this.canCreate()) return false;\n        crop = (this.options.widgetConstructor || Widget).create(this.options);\n        pos = crop.pos;\n        pos.x = e.pageX - this.el.offsetParent.offsetLeft - this.el.offsetLeft;\n        pos.y = e.pageY - this.el.offsetParent.offsetTop - this.el.offsetTop;\n        w = this.el.offsetWidth;\n        h = this.el.offsetHeight;\n        this.addWidget(crop);\n        stick = Sticker.create(pos,w,h,'se');\n        if (this.options.aspectRatio) stick.aspect = this.options.aspectRatio;\n        crop.render(pos);\n        this.focus();\n        return true;\n      },\n      (x,y) => {\n        crop.render(stick.move(x,y));\n      },\n      () => {\n        crop.emit('crop.change');\n      }\n    );\n  }\n\n  reorderWidgets () {\n    var z = 10;\n    this.crops.forEach(crop => {\n      crop.el.style.zIndex = z++;\n      if (this.active === crop) crop.addClass('active');\n      else crop.removeClass('active');\n    });\n    this.refresh();\n  }\n\n  activate (widget) {\n    if (!this.enabled) return this;\n    widget = widget || Array.from(this.crops).pop();\n    if (widget) {\n      if (this.active === widget) return;\n      this.active = widget;\n      this.crops.delete(widget);\n      this.crops.add(widget);\n      this.reorderWidgets();\n      this.active.el.focus();\n      this.options.shade && this.shades.enable();\n      widget.emit('crop.activate');\n    } else {\n      this.shades.disable();\n    }\n    return this;\n  }\n\n  addWidget (widget) {\n    widget.attachToStage(this);\n    widget.appendTo(this.el);\n    this.activate(widget);\n    return this;\n  }\n\n  newWidget (rect,options={}) {\n    options = extend({},this.options,options);\n    const crop = (this.options.widgetConstructor || Widget).create(options);\n    crop.render(rect);\n    this.addWidget(crop);\n    crop.el.focus();\n    return crop;\n  }\n\n  removeWidget (widget) {\n    if (!this.canRemove()) return false;\n    widget.emit('crop.remove');\n    widget.el.remove();\n    this.crops.delete(widget);\n    this.activate();\n  }\n\n  refresh () {\n    this.options.shade && this.active &&\n      this.shades.adjust(this.active.pos);\n  }\n\n  updateShades () {\n    if (!this.shades) return;\n\n    if (this.options.shade) this.shades.enable();\n    else this.shades.disable();\n\n    this.options.shade && this.active &&\n      this.shades.adjust(this.active.pos);\n\n    return this;\n  }\n\n  setOptions (options={}) {\n    super.setOptions(options);\n    if (this.crops) Array.from(this.crops).forEach(i => i.setOptions(options));\n  }\n\n  destroy () {\n  }\n\n}\n\nexport default Stage;\n\n","import Stage from './dom';\n\nfunction div (clname,el = document.createElement('div')) {\n  el.className = clname;\n  return el;\n}\n\nclass ImageStage extends Stage {\n  constructor (el,options) {\n    const wrapper = div('jcrop-stage jcrop-image-stage');\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n    super(wrapper,options);\n    this.srcEl = el;\n    el.onload = this.resizeToImage.bind(this);\n    this.resizeToImage();\n  }\n\n  resizeToImage () {\n    const w = this.srcEl.width;\n    const h = this.srcEl.height;\n    this.el.style.width = w+'px';\n    this.el.style.height = h+'px';\n    this.refresh();\n  }\n\n  destroy () {\n    this.el.parentNode.insertBefore(this.srcEl,this.el);\n    this.el.remove();\n  }\n}\n\nexport default ImageStage;\n","/* This class creates a draggable frame by locking the\n   corner opposite to the one being dragged */\n\nimport Rect from './rect';\n\nclass Sticker {\n\n  constructor (rect,w,h,ord) {\n    this.sw = w;\n    this.sh = h;\n    this.rect = rect;\n    this.locked = this.getCornerPoint(this.getOppositeCorner(ord));\n    this.stuck = this.getCornerPoint(ord);\n  }\n\n  move (x,y) {\n    return Rect.fromPoints(this.locked, this.translateStuckPoint(x,y));\n  }\n\n  // Determine \"quadrant\" of handle drag relative to locked point\n  // returns string tl = top left, br = bottom right, etc\n  getDragQuadrant (x,y) {\n    const relx = this.locked[0] - x;\n    const rely = this.locked[1] - y;\n    if ((relx < 0) && (rely < 0)) return 'br';\n    else if ((relx >= 0) && (rely >= 0)) return 'tl';\n    else if ((relx < 0) && (rely >= 0)) return 'tr';\n    else return 'bl';\n  }\n\n  // get the maximum aspect ratio rectangle for the current drag\n  getMaxRect (x,y,aspect) {\n    return Rect.getMax(\n      Math.abs(this.locked[0] - x),\n      Math.abs(this.locked[1] - y),\n      aspect\n    );\n  }\n\n  // given the offset of the drag versus the stuck point,\n  // determine the real dragging coordinates\n  translateStuckPoint (ox,oy) {\n    const [xx,yy,sp] = this.stuck;\n\n    var x = (xx === null)? sp: xx + ox;\n    var y = (yy === null)? sp: yy + oy;\n\n    if (x > this.sw) x = this.sw;\n    if (y > this.sh) y = this.sh;\n    if (x < 0) x = 0;\n    if (y < 0) y = 0;\n\n    if (this.aspect) {\n      var [w,h] = this.getMaxRect(x,y,this.aspect);\n      var quad = this.getDragQuadrant(x,y);\n      var res = Rect.fromPoint(this.locked,w,h,quad);\n      return [ res.x2, res.y2 ];\n    }\n\n    return [x,y];\n  }\n\n  getCornerPoint (h) {\n    const p = this.rect;\n    switch (h) {\n      case 'n': return [ null, p.y, p.x ];\n      case 's': return [ null, p.y2, p.x2 ];\n      case 'e': return [ p.x2, null, p.y2 ];\n      case 'w': return [ p.x, null, p.y ];\n      case 'se': return [ p.x2, p.y2 ];\n      case 'sw': return [ p.x, p.y2 ];\n      case 'ne': return [ p.x2, p.y ];\n      case 'nw': return [ p.x, p.y ];\n    }\n  }\n\n  getOppositeCorner (h) {\n    switch (h) {\n      case 'n': return 'se';\n      case 's': return 'nw';\n      case 'e': return 'nw';\n      case 'w': return 'se';\n      case 'se': return 'nw';\n      case 'sw': return 'ne';\n      case 'ne': return 'sw';\n      case 'nw': return 'se';\n    }\n  }\n\n}\n\nSticker.create = function (rect,w,h,ord) {\n  return new Sticker(rect,w,h,ord);\n};\n\nexport default Sticker;\n","export default function extend () {\n  var extended = {};\n\n  for (let key in arguments) {\n    var argument = arguments[key];\n    for (let prop in argument) {\n      if (Object.prototype.hasOwnProperty.call(argument, prop)) {\n        extended[prop] = argument[prop];\n      }\n    }\n  }\n\n  return extended;\n};\n\n","import extend from './util/extend';\nimport Handle from './handle';\nimport Defaults from './defaults';\nimport Dragger from './dragger';\nimport Rect from './rect';\nimport Sticker from './sticker';\nimport ConfObj from './confobj';\nimport Keyboard from './keyboard';\nimport Animate from './animate';\n\nclass Widget extends ConfObj {\n\n  constructor (el,options={}) {\n    super(el,options);\n    this.pos = Rect.from(this.el);\n    this.init();\n  }\n\n  init () {\n    this.createHandles();\n    this.createMover();\n    this.attachFocus();\n    Keyboard.attach(this);\n    return this;\n  }\n\n  initOptions () {\n    this._optconf['aspectRatio'] = ar => {\n      const p = this.pos;\n      this.aspect = ar || null;\n      if (this.aspect && p) {\n        var [w,h] = Rect.getMax(p.w,p.h,ar);\n        this.render(Rect.fromPoint([p.x,p.y],w,h));\n      }\n    };\n  }\n\n  attachToStage (stage) {\n    this.stage = stage;\n    this.emit('crop.attach');\n  }\n\n  attachFocus () {\n    this.el.addEventListener('focus',(e) => {\n      this.stage.activate(this);\n      this.emit('crop.update');\n    },false);\n  }\n\n  animate (rect,frames,efunc) {\n    const t = this;\n    efunc = efunc || t.options.animateEasingFunction || 'swing';\n    frames = frames || t.options.animateFrames || 30;\n    return Animate(t.el,t.pos,rect,r => t.render(r.normalize()),frames,efunc)\n      .then(() => this.emit('crop.change'));\n  }\n\n  createMover () {\n    var w,h;\n    this.pos = Rect.from(this.el);\n    var stick;\n    Dragger(\n      this.el,\n      () => {\n        const pe = this.el.parentElement;\n        if (!this.stage.enabled) return false;\n        [w,h] = [ pe.offsetWidth, pe.offsetHeight ];\n        stick = Rect.from(this.el);\n        this.el.focus();\n        this.stage.activate(this);\n        return true;\n      },\n      (x,y) => {\n        this.pos.x = stick.x + x;\n        this.pos.y = stick.y + y;\n        this.render(this.pos.rebound(w,h));\n      },\n      () => {\n        this.emit('crop.change');\n      }\n    );\n  }\n\n  nudge (x=0,y=0) {\n    const pe = this.el.parentElement;\n    const [w,h] = [ pe.offsetWidth, pe.offsetHeight ];\n    if (x) this.pos.x += x;\n    if (y) this.pos.y += y;\n    this.render(this.pos.rebound(w,h));\n    this.emit('crop.change');\n  }\n\n  createHandles () {\n    this.options.handles.forEach(c => {\n      const handle = Handle.create('jcrop-handle '+c);\n      handle.appendTo(this.el);\n\n      var stick;\n      Dragger(handle.el,\n        () => {\n          if (!this.stage.enabled) return false;\n          const pe = this.el.parentElement;\n          const w = pe.offsetWidth;\n          const h = pe.offsetHeight;\n          stick = Sticker.create(Rect.from(this.el), w, h, c);\n          if (this.aspect) stick.aspect = this.aspect;\n          this.el.focus();\n          this.emit('crop.active');\n          return true;\n        },\n        (x,y) => this.render(stick.move(x,y)),\n        () => {\n          this.emit('crop.change');\n        }\n      );\n    });\n    return this;\n  }\n\n  isActive () {\n    return (this.stage && (this.stage.active === this));\n  }\n\n  render (r) {\n    r = r || this.pos;\n    this.el.style.top = Math.round(r.y) + 'px';\n    this.el.style.left = Math.round(r.x) + 'px';\n    this.el.style.width = Math.round(r.w) + 'px';\n    this.el.style.height = Math.round(r.h) + 'px';\n    this.pos = r;\n    this.emit('crop.update');\n    return this;\n  }\n\n  doneDragging () {\n    this.pos = Rect.from(this.el);\n  }\n\n}\n\nWidget.create = function (options={}) {\n  const el = document.createElement('div');\n  const opts = extend({},Defaults,options);\n  el.setAttribute('tabindex','0');\n  el.className = opts.cropperClass || 'jcrop-widget';\n  return new (options.widgetConstructor || Widget)(el,opts);\n};\n\nexport default Widget;\n"],"sourceRoot":""}